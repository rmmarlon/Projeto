<html>
	<head>
		<meta charset="utf-8" />
		<title>Exemplo 3 âˆ’ Carregar arquivo </title>
		<script type="text/javascript" src="ajaxInit.js"></script>
		<script type="text/javascript">
		function selecionaCidade(estado){
			ajax = ajaxInit();
			if(ajax){
				ajax.onreadystatechange = escreveCidades;
				url = 'cidade.php?estado='+estado;
				ajax.open('GET', url, true);
				ajax.send(null);
			}
		}
		function escreveCidades(){
			if(ajax.readyState == 4) {
				if(ajax.status == 200) {
					limparDestino("cidade");
					document.getElementById("cidade").innerHTML = ajax.responseText;
					
				}
			}
		}
		function limparDestino(destino){
			obj = document.getElementById (destino);
			while (obj.firstChild)
				obj.removeChild(obj.firstChild);
		}
		</script>
	</head>
	<body>
		<form name="selecioneCidade">
			<fieldset style="width:50%; margin:auto">
				<label id="estado" accesskey="e"><u>E</u>stado :</label>
				<select name="estado" id="estado" onChange="if(this.options[this.selectedIndex].value){selecionaCidade(this.options[this.selectedIndex].value )}">
					<option value=''></option>
					<option value='pr'>PR</option>
					<option value='rs'>RS</option>
					<option value='sp'>SP</option>
				</select><br/>
				<label for="cidade" accesskey="c"><u>C</u>idade :</label>
				<select name="cidade" id="cidade">
				</select>
			</fieldset>
		</form>
	</body>
</html>